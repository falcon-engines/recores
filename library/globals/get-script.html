<!-- {{/*

    FUNCTION : GET CSS AND JS FILES

    syntax : {{ partial "get-script" ( dict "ctx" . "type" "[style|script]" "load" "[head|foot]" ) }}
    attrib :
        - ctx  : page context paramater variable, do not change/remove `ctx` parameters !
        - type : type script you want to get ( style | script ).
        - load : target script your want to get ( head | foot )
    example:
        {{- $styles_head := partial "get-script" ( dict "ctx" . "type" "style" "load" "head" ) -}}

*/}} -->

<!-- function variable -->
{{ $load := index ( split .hook "_" ) 1 }}
{{ $exts := index ( split .hook "_" ) 2 }}
{{ $link := slice }}
{{ $data := slice }}


{{ range ( .ctx.Page.Scratch.Get .hook ) }}
    {{ $data = $data | append ( resources.Get . )  }}
{{ end }}


{{ if eq $exts "styles" }}
    {{ $link = $data | resources.Concat ( print "based/" $load ".css" )  }}
{{ end }}


{{ if eq $exts "script" }}
    {{ $link = $data | resources.Concat ( print "based/" $load ".js" ) | js.Build ( dict "targetPath" ( print "based/" $load ".js") )  }}
{{ end }}


{{ return $link }} 